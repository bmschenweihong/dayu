# 管理单个作业<a name="dayu_01_0084"></a>

已存在的CDM作业支持查看、修改、删除、启动、停止等操作，这里主要介绍作业的查看和修改。

## 查看<a name="zh-cn_topic_0108275443_section208014815314"></a>

-   **查看作业状态**

    作业状态有New，Pending，Booting，Running，Failed，Succeeded。

    其中“Pending“表示正在等待系统调度该作业，“Booting“表示正在分析待迁移的数据。

-   **查看历史记录**

    查看作业的历史执行记录、读取和写入的统计数据，在历史记录界面还可查看作业执行的日志信息。

-   **查看作业日志**

    在历史记录界面可查看作业所有的日志。

    也可以在作业列表界面，选择“更多  \>  日志“来查看该作业最近的一次日志。

-   **查看作业JSON**

    直接编辑作业的JSON文件，作用等同于修改作业的参数配置

-   **源目的统计查询**

    可对已经配置好的数据库类作业打开预览窗口，预览最多1000条数据内容。可对比源和目的端的数据，也可以通过对比记录数来看迁移结果是否成功、数据是否丢失。

-   **查看历史作业**

    CDM可以保留最近1个月已执行的作业，包括一次性作业（运行完自动删除的作业）和周期重复执行的作业，都支持在“历史作业“页签下查看、重新执行。

    对于周期重复执行的作业，每次执行时（无论成功失败）都会在“历史作业“的页签下生成一个历史作业，执行了多少次便生成多少个历史作业。由于原作业名相同，所以历史作业的作业名会随机增加一个字符串以做区分。


## 修改<a name="zh-cn_topic_0108275443_section18474153853218"></a>

-   **修改作业参数**

    可重新配置作业参数，但是不能重新选择源连接和目的连接。

-   **编辑作业JSON**

    直接编辑作业的JSON文件，作用等同于修改作业的参数配置。

-   **停止/继续增量**

    这个只针对使用MySQL Binlog方式增量迁移的作业，必须同时满足以下条件的作业才有这2个操作：

    1.  该作业为表/文件迁移，不是整库迁移的作业。
    2.  该作业为迁移MySQL到数据仓库DWS。
    3.  源端作业参数“是否增量迁移“为“是“。

    这里的停止/继续增量操作，不会控制[文件增量迁移](文件增量迁移.md)、[关系数据库增量迁移](关系数据库增量迁移.md)、[HBase/CloudTable增量迁移](HBase-CloudTable增量迁移.md)和[使用时间宏变量完成增量同步](使用时间宏变量完成增量同步.md)章节中介绍的增量功能，只能控制使用MySQL Binlog方式增量迁移的作业。


## 操作步骤<a name="zh-cn_topic_0108275443_sa8b541ef7aed44ff9b2b952a379b9189"></a>

1.  [登录DAYU控制台](https://console.huaweicloud.com/dayu/)，找到所需要的DAYU实例，单击实例卡片上的“进入控制台”，进入概览页面。

    选择“空间管理”页签，完成工作空间的创建。

    在工作空间列表中，找到所需要的工作空间。



1.  单击相应工作空间的“数据集成“。

    系统跳转至数据集成页面。


1.  选择批量数据迁移集群管理，进入集群管理界面。选择集群后的“作业管理“。
2.  单击“历史作业“可以查看最近1个月所有执行过的历史作业。

    CDM可以保留最近1个月已执行的作业，包括一次性作业（运行完自动删除的作业）和周期重复执行的作业，都支持在“历史作业“页签下查看、重新执行。

    对于周期重复执行的作业，每次执行时（无论成功失败）都会在“历史作业“的页签下生成一个历史作业，执行了多少次便生成多少个历史作业。由于原作业名相同，所以历史作业的作业名会随机增加一个字符串以做区分。

3.  单击“表/文件迁移“显示作业列表，可对单个作业执行如下操作：
    -   修改作业参数：单击作业操作列的“编辑“可修改作业参数。
    -   运行作业：单击作业操作列的“运行“可手动启动作业。
    -   查看历史记录：单击作业操作列的“历史记录“进入历史记录界面，可查看该作业的历史执行记录、读取和写入的统计数据。在历史记录界面单击“日志“，可查看作业执行的日志信息。
    -   删除作业：选择作业操作列的“更多  \>  删除“可删除作业。
    -   停止作业：选择作业操作列的“更多  \>  停止“可停止作业。
    -   查看作业JSON：选择作业操作列的“更多  \>  查看作业JSON“，可查看该作业的JSON定义。
    -   编辑作业JSON：选择作业操作列的“更多  \>  编辑作业JSON“，可直接编辑该作业的JSON文件，作用等同于修改作业的参数配置。
    -   源目的统计查询：选择作业操作列的“更多  \>  源目的统计查询“，可对已经配置好的数据库类作业打开预览窗口，预览最多1000条数据内容。可对比源和目的端的数据，也可以通过对比记录数来看迁移结果是否成功、数据是否丢失。
    -   继续增量：选择作业操作列的“更多  \>  继续增量“，如果该作业为迁移MySQL的单表到数据仓库DWS，且作业参数中开启了“是否增量迁移“，可在这里启动继续增量。
    -   停止增量：选择作业操作列的“更多  \>  停止增量“，如果该作业为迁移MySQL的单表到数据仓库DWS，且作业参数中开启了“是否增量迁移“，则可通过这里停止增量迁移的功能。

4.  修改完成后单击“保存“或“保存并运行“。

